<UserControl x:Class="WpfClient.Controls.PlaybackControls"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Border CornerRadius="16"
            Background="#F1F4FA"
            Padding="12,8"
            Effect="{StaticResource SoftShadow}">
        <StackPanel Orientation="Horizontal"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center">

            <!-- Кнопка Запись / Остановить -->
            <Button Width="110"
                    Margin="0,0,8,0"
                    Click="OnRecordClick">
                <Button.Style>
                    <Style TargetType="Button"
                           BasedOn="{StaticResource ElevatedButtonStyle}">
                        <Setter Property="Background" Value="#4CAF50" />
                        <Setter Property="Content" Value="Запись" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding IsRecording}" Value="True">
                                <Setter Property="Background" Value="#FF6B6B" />
                                <Setter Property="Content" Value="Остановить" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Button.Style>
            </Button>

            <!-- Кнопка Демо -->
            <Button Width="100"
                    Margin="0,0,8,0"
                    Click="OnPlaybackClick">
                <Button.Style>
                    <Style TargetType="Button"
                           BasedOn="{StaticResource ElevatedButtonStyle}">
                        <Setter Property="Background"
                                Value="{StaticResource AccentBrush}" />
                        <Setter Property="Content" Value="Демо" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding IsPlaying}" Value="True">
                                <Setter Property="IsEnabled" Value="False" />
                                <Setter Property="Opacity" Value="0.6" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Button.Style>
            </Button>

            <!-- Кнопка Пауза / Продолжить -->
            <Button Width="130"
                    Margin="0,0,8,0"
                    Click="OnPauseResumeClick">
                <Button.Style>
                    <Style TargetType="Button"
                           BasedOn="{StaticResource ElevatedButtonStyle}">
                        <Setter Property="Background" Value="#FF9800" />
                        <Setter Property="Content" Value="⏸ Пауза" />
                        <Setter Property="IsEnabled" Value="False" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding IsPlaying}" Value="True">
                                <Setter Property="IsEnabled" Value="True" />
                                <Setter Property="Content" Value="⏸ Пауза" />
                                <Setter Property="Background" Value="#FF9800" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding IsPaused}" Value="True">
                                <Setter Property="IsEnabled" Value="True" />
                                <Setter Property="Background" Value="#4CAF50" />
                                <Setter Property="Content" Value="▶ Продолжить" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Button.Style>
            </Button>

            <!-- Кнопка Выход -->
            <Button Width="100"
                    Click="OnStopPlaybackClick">
                <Button.Style>
                    <Style TargetType="Button"
                           BasedOn="{StaticResource ElevatedButtonStyle}">
                        <Setter Property="Background" Value="#F44336" />
                        <Setter Property="Content" Value="⏹ Выход" />
                        <Setter Property="IsEnabled" Value="False" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding IsPlaying}" Value="True">
                                <Setter Property="IsEnabled" Value="True" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Button.Style>
            </Button>

        </StackPanel>
    </Border>
</UserControl>
