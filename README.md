# Paint Receiver - Joystick Control

Программа для приема данных от NUCLEO-F103RB с JoystickShield и визуализации в стиле Paint с раскрашиванием по образцу.

## Структура проекта

```
paint/
├── main.py              # Точка входа в приложение
├── config.py            # Конфигурация и настройки
├── colors.py            # Определения цветов и палитры
├── drawings.py          # Классы для рисования фигур (человечек, цветок)
├── serial_handler.py    # Работа с COM-портом
├── paint_app.py         # Основной класс приложения
└── README.md            # Документация
```

## Описание модулей

### `main.py`
Точка входа в приложение. Запускает основной цикл программы.

### `config.py`
Содержит все константы и настройки:
- Параметры COM-порта (скорость передачи)
- Размеры экрана и элементов интерфейса
- Настройки джойстика (зоны, скорость)
- Режим отладки

### `colors.py`
Определения цветов RGB и палитра для рисования:
- Базовые цвета (BLACK, WHITE, RED, и т.д.)
- Палитра из 12 цветов для выбора

### `drawings.py`
Классы для рисования фигур:
- `HumanDrawing` - рисование человечка (6 частей тела)
- `FlowerDrawing` - рисование цветка (4 лепестка, стебель, 2 листика)

Каждый класс содержит методы:
- `draw()` - рисование фигуры (заполненной или контуром)
- `draw_filled_figure()` - рисование залитой части фигуры
- `draw_outlines()` - рисование контуров
- `get_figure_at()` - определение фигуры по координатам

### `serial_handler.py`
Управление последовательным портом:
- Автоматический поиск доступного COM-порта
- Чтение данных в отдельном потоке
- Очередь для безопасной передачи данных

### `paint_app.py`
Основной класс приложения `PaintApp`:
- Инициализация pygame и интерфейса
- Обработка данных от джойстика
- Управление рисованием и раскрашиванием
- Обработка нажатий кнопок
- Отрисовка UI

## Запуск

```bash
python main.py
```

или

```bash
python paint_receiver.py  # старый файл (deprecated)
```

## Управление

### Джойстик
- Движение джойстика - перемещение курсора по экрану

### Кнопки
- **A / D** - Выбрать цвет (наведите курсор на цвет в палитре)
- **B** - Залить фигуру выбранным цветом
- **C** - Очистить фигуру под курсором
- **E** - Переключиться на следующий рисунок (человечек ↔ цветок)
- **F** - Очистить весь холст

### Клавиатура (дополнительно)
- **ESC** - Выход из программы

## Требования

- Python 3.7+
- pygame
- pyserial

Установка зависимостей:
```bash
pip install pygame pyserial
```

## Рисунки для раскрашивания

### Человечек
- Голова (круг) - жёлтый
- Тело (прямоугольник) - синий
- Левая рука (прямоугольник) - красный
- Правая рука (прямоугольник) - красный
- Левая нога (прямоугольник) - зелёный
- Правая нога (прямоугольник) - зелёный

### Цветок
- Верхний лепесток (круг) - розовый
- Правый лепесток (круг) - жёлтый
- Нижний лепесток (круг) - пурпурный
- Левый лепесток (круг) - голубой
- Стебель (прямоугольник) - зелёный
- Листья (2 круга) - зелёный

## Автор

Проект для управления рисованием через NUCLEO-F103RB с JoystickShield.
